{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nexport const prisma = new PrismaClient();\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAI,6IAAY"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/auth.ts"],"sourcesContent":["// auth.ts\nimport NextAuth, { type AuthOptions } from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { prisma } from \"@/lib/prisma\"\nimport bcrypt from \"bcryptjs\"\n\nexport const authOptions: AuthOptions = {\n    providers: [\n        CredentialsProvider({\n            name: \"Credentials\",\n            credentials: {\n                email: { label: \"Email\", type: \"email\" },\n                password: { label: \"Password\", type: \"password\" },\n            },\n            async authorize(credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null\n                }\n\n                const user = await prisma.user.findUnique({\n                    where: { email: credentials.email as string },\n                })\n\n                if (!user || !user.password) {\n                    return null\n                }\n\n                const isPasswordValid = await bcrypt.compare(\n                    credentials.password as string,\n                    user.password\n                )\n\n                if (!isPasswordValid) {\n                    return null\n                }\n\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: `${user.firstName} ${user.lastName}`,\n                    role: user.role,\n                }\n            },\n        }),\n    ],\n    pages: {\n        signIn: \"/login\",\n        error: \"/login\",\n    },\n    callbacks: {\n        async jwt({ token, user }) {\n            if (user) {\n                token.role = (user as any).role\n                token.id = user.id\n            }\n            return token\n        },\n        async session({ session, token }) {\n            if (session.user) {\n                ;(session.user as any).role = token.role\n                ;(session.user as any).id = token.id\n            }\n            return session\n        },\n    },\n    session: {\n        strategy: \"jwt\",\n    },\n}\n\nexport default NextAuth(authOptions)"],"names":[],"mappings":"AAAA,UAAU;;;;;;;AACV;AACA;AACA;AACA;;;;;AAEO,MAAM,cAA2B;IACpC,WAAW;QACP,IAAA,iRAAmB,EAAC;YAChB,MAAM;YACN,aAAa;gBACT,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YACpD;YACA,MAAM,WAAU,WAAW;gBACvB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBAC/C,OAAO;gBACX;gBAEA,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACtC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAW;gBAChD;gBAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;oBACzB,OAAO;gBACX;gBAEA,MAAM,kBAAkB,MAAM,mMAAM,CAAC,OAAO,CACxC,YAAY,QAAQ,EACpB,KAAK,QAAQ;gBAGjB,IAAI,CAAC,iBAAiB;oBAClB,OAAO;gBACX;gBAEA,OAAO;oBACH,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,GAAG,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,QAAQ,EAAE;oBAC1C,MAAM,KAAK,IAAI;gBACnB;YACJ;QACJ;KACH;IACD,OAAO;QACH,QAAQ;QACR,OAAO;IACX;IACA,WAAW;QACP,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,IAAI,MAAM;gBACN,MAAM,IAAI,GAAG,AAAC,KAAa,IAAI;gBAC/B,MAAM,EAAE,GAAG,KAAK,EAAE;YACtB;YACA,OAAO;QACX;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,IAAI,QAAQ,IAAI,EAAE;;gBACZ,QAAQ,IAAI,CAAS,IAAI,GAAG,MAAM,IAAI;gBACtC,QAAQ,IAAI,CAAS,EAAE,GAAG,MAAM,EAAE;YACxC;YACA,OAAO;QACX;IACJ;IACA,SAAS;QACL,UAAU;IACd;AACJ;uCAEe,IAAA,8PAAQ,EAAC"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/app/api/appointments/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/prisma\"\nimport  auth  from \"@/auth\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function GET(req: NextRequest) {\n  try {\n    const session = await auth()\n    if (!session) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n    }\n\n    const searchParams = req.nextUrl.searchParams\n    const doctorId = searchParams.get(\"doctorId\")\n    const patientId = searchParams.get(\"patientId\")\n    const startDate = searchParams.get(\"startDate\")\n    const endDate = searchParams.get(\"endDate\")\n\n    const where: any = {}\n\n    if (doctorId) where.doctorId = doctorId\n    if (patientId) where.patientId = patientId\n    if (startDate && endDate) {\n      where.appointmentDate = {\n        gte: new Date(startDate),\n        lte: new Date(endDate),\n      }\n    }\n\n    const appointments = await prisma.appointment.findMany({\n      where,\n      include: {\n        patient: {\n          include: {\n            user: { select: { firstName: true, lastName: true, email: true, phone: true } },\n          },\n        },\n        doctor: {\n          include: {\n            user: { select: { firstName: true, lastName: true } },\n          },\n        },\n        service: true,\n      },\n      orderBy: { appointmentDate: \"asc\" },\n      take: 100,\n    })\n\n    return NextResponse.json(appointments)\n  } catch (error) {\n    console.error(\"Error fetching appointments:\", error)\n    return NextResponse.json({ error: \"Failed to fetch appointments\" }, { status: 500 })\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const session = await auth()\n    if (!session) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n    }\n\n    const data = await req.json()\n\n    const clinic = await prisma.clinic.findFirst()\n    if (!clinic) throw new Error(\"No clinic found\")\n\n    const appointment = await prisma.appointment.create({\n      data: {\n        clinicId: clinic.id,\n        patientId: data.patientId,\n        doctorId: data.doctorId,\n        serviceId: data.serviceId,\n        appointmentDate: new Date(data.appointmentDate),\n        duration: data.duration || 30,\n        notes: data.notes,\n      },\n      include: {\n        patient: {\n          include: {\n            user: { select: { firstName: true, lastName: true } },\n          },\n        },\n        doctor: {\n          include: {\n            user: { select: { firstName: true, lastName: true } },\n          },\n        },\n        service: true,\n      },\n    })\n\n    return NextResponse.json(appointment, { status: 201 })\n  } catch (error) {\n    console.error(\"Error creating appointment:\", error)\n    return NextResponse.json({ error: \"Failed to create appointment\" }, { status: 400 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,iHAAI;QAC1B,IAAI,CAAC,SAAS;YACZ,OAAO,+QAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,eAAe,IAAI,OAAO,CAAC,YAAY;QAC7C,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,YAAY,aAAa,GAAG,CAAC;QACnC,MAAM,YAAY,aAAa,GAAG,CAAC;QACnC,MAAM,UAAU,aAAa,GAAG,CAAC;QAEjC,MAAM,QAAa,CAAC;QAEpB,IAAI,UAAU,MAAM,QAAQ,GAAG;QAC/B,IAAI,WAAW,MAAM,SAAS,GAAG;QACjC,IAAI,aAAa,SAAS;YACxB,MAAM,eAAe,GAAG;gBACtB,KAAK,IAAI,KAAK;gBACd,KAAK,IAAI,KAAK;YAChB;QACF;QAEA,MAAM,eAAe,MAAM,yHAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;YACrD;YACA,SAAS;gBACP,SAAS;oBACP,SAAS;wBACP,MAAM;4BAAE,QAAQ;gCAAE,WAAW;gCAAM,UAAU;gCAAM,OAAO;gCAAM,OAAO;4BAAK;wBAAE;oBAChF;gBACF;gBACA,QAAQ;oBACN,SAAS;wBACP,MAAM;4BAAE,QAAQ;gCAAE,WAAW;gCAAM,UAAU;4BAAK;wBAAE;oBACtD;gBACF;gBACA,SAAS;YACX;YACA,SAAS;gBAAE,iBAAiB;YAAM;YAClC,MAAM;QACR;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,iHAAI;QAC1B,IAAI,CAAC,SAAS;YACZ,OAAO,+QAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,MAAM,SAAS,MAAM,yHAAM,CAAC,MAAM,CAAC,SAAS;QAC5C,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;QAE7B,MAAM,cAAc,MAAM,yHAAM,CAAC,WAAW,CAAC,MAAM,CAAC;YAClD,MAAM;gBACJ,UAAU,OAAO,EAAE;gBACnB,WAAW,KAAK,SAAS;gBACzB,UAAU,KAAK,QAAQ;gBACvB,WAAW,KAAK,SAAS;gBACzB,iBAAiB,IAAI,KAAK,KAAK,eAAe;gBAC9C,UAAU,KAAK,QAAQ,IAAI;gBAC3B,OAAO,KAAK,KAAK;YACnB;YACA,SAAS;gBACP,SAAS;oBACP,SAAS;wBACP,MAAM;4BAAE,QAAQ;gCAAE,WAAW;gCAAM,UAAU;4BAAK;wBAAE;oBACtD;gBACF;gBACA,QAAQ;oBACN,SAAS;wBACP,MAAM;4BAAE,QAAQ;gCAAE,WAAW;gCAAM,UAAU;4BAAK;wBAAE;oBACtD;gBACF;gBACA,SAAS;YACX;QACF;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC,aAAa;YAAE,QAAQ;QAAI;IACtD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF"}}]
}