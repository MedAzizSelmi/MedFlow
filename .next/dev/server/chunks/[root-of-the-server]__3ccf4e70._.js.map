{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nexport const prisma = new PrismaClient();\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAI,6IAAY"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/auth.ts"],"sourcesContent":["// auth.ts\nimport NextAuth, { type AuthOptions } from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { prisma } from \"@/lib/prisma\"\nimport bcrypt from \"bcryptjs\"\n\nexport const authOptions: AuthOptions = {\n    providers: [\n        CredentialsProvider({\n            name: \"Credentials\",\n            credentials: {\n                email: { label: \"Email\", type: \"email\" },\n                password: { label: \"Password\", type: \"password\" },\n            },\n            async authorize(credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null\n                }\n\n                try {\n                    const user = await prisma.user.findUnique({\n                        where: { email: credentials.email as string },\n                    })\n\n                    if (!user || !user.password) {\n                        return null\n                    }\n\n                    const isPasswordValid = await bcrypt.compare(\n                        credentials.password as string,\n                        user.password\n                    )\n\n                    if (!isPasswordValid) {\n                        return null\n                    }\n\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: `${user.firstName} ${user.lastName}`,\n                        role: user.role,\n                    }\n                } catch (error) {\n                    console.error(\"Auth error:\", error)\n                    return null\n                }\n            },\n        }),\n    ],\n    pages: {\n        signIn: \"/login\",\n        error: \"/login\",\n    },\n    callbacks: {\n        async jwt({ token, user }) {\n            if (user) {\n                token.role = (user as any).role\n                token.id = user.id\n            }\n            return token\n        },\n        async session({ session, token }) {\n            if (session.user) {\n                ;(session.user as any).role = token.role\n                ;(session.user as any).id = token.id\n            }\n            return session\n        },\n    },\n    session: {\n        strategy: \"jwt\",\n    },\n}\n\nexport default NextAuth(authOptions)"],"names":[],"mappings":"AAAA,UAAU;;;;;;;AACV;AACA;AACA;AACA;;;;;AAEO,MAAM,cAA2B;IACpC,WAAW;QACP,IAAA,iRAAmB,EAAC;YAChB,MAAM;YACN,aAAa;gBACT,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YACpD;YACA,MAAM,WAAU,WAAW;gBACvB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBAC/C,OAAO;gBACX;gBAEA,IAAI;oBACA,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;wBACtC,OAAO;4BAAE,OAAO,YAAY,KAAK;wBAAW;oBAChD;oBAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;wBACzB,OAAO;oBACX;oBAEA,MAAM,kBAAkB,MAAM,mMAAM,CAAC,OAAO,CACxC,YAAY,QAAQ,EACpB,KAAK,QAAQ;oBAGjB,IAAI,CAAC,iBAAiB;wBAClB,OAAO;oBACX;oBAEA,OAAO;wBACH,IAAI,KAAK,EAAE;wBACX,OAAO,KAAK,KAAK;wBACjB,MAAM,GAAG,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,QAAQ,EAAE;wBAC1C,MAAM,KAAK,IAAI;oBACnB;gBACJ,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,eAAe;oBAC7B,OAAO;gBACX;YACJ;QACJ;KACH;IACD,OAAO;QACH,QAAQ;QACR,OAAO;IACX;IACA,WAAW;QACP,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,IAAI,MAAM;gBACN,MAAM,IAAI,GAAG,AAAC,KAAa,IAAI;gBAC/B,MAAM,EAAE,GAAG,KAAK,EAAE;YACtB;YACA,OAAO;QACX;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,IAAI,QAAQ,IAAI,EAAE;;gBACZ,QAAQ,IAAI,CAAS,IAAI,GAAG,MAAM,IAAI;gBACtC,QAAQ,IAAI,CAAS,EAAE,GAAG,MAAM,EAAE;YACxC;YACA,OAAO;QACX;IACJ;IACA,SAAS;QACL,UAAU;IACd;AACJ;uCAEe,IAAA,8PAAQ,EAAC"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1/Downloads/web-application-development%20%281%29/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["// app/api/auth/[...nextauth]/route.ts\nimport NextAuth from \"@/auth\"\nimport { authOptions } from \"@/auth\"\n\nexport { authOptions }\n\nconst handler = NextAuth(authOptions)\nexport { handler as GET, handler as POST }"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;;AACtC;;;;AAKA,MAAM,UAAU,IAAA,iHAAQ,EAAC,qHAAW"}}]
}